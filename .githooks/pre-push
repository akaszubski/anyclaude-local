#!/bin/sh
# Pre-push hook: Run full test suite before pushing to remote
# This catches any regressions before code reaches the server

echo "ğŸ§ª Running full test suite before push..."
echo ""

npm test

if [ $? -ne 0 ]; then
  echo ""
  echo "âŒ Tests failed! Fix issues before pushing."
  echo ""
  echo "To override (not recommended):"
  echo "  git push --no-verify"
  exit 1
fi

echo ""
echo "âœ… All tests passed! Safe to push."
exit 0
